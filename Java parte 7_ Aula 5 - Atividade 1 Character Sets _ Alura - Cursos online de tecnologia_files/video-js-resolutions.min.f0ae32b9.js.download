function HDtoggle(t,o){function e(o){var e=$("#"+t),i=e.data(o);if(void 0!=i)return i;var n=e.find("source[data-res='"+o+"']");return void 0==n||void 0==n.attr("src")?null:n.attr("src")}function i(o,i){var n=e(o);if(null!=n){var s=videojs(t).playbackRate(),l=videojs(t).currentTime();videojs(t).src([{type:"video/mp4",src:n}]),videojs(t).playbackRate(s),l>=30&&videojs(t).currentTime(l),i&&videojs(t).play()}}function n(t){var o=document.createElement("style");o.type="text/css",o.innerHTML="hd"==t?".vjs-control.vjs-HD-button { color: #36D8DE; font-weight:bold; text-shadow: 0 0 1em #fff;}":".vjs-control.vjs-HD-button { color: silver; font-weight:normal; text-shadow: 0 0 5em #fff;}",document.body.appendChild(o)}videojs.HD=videojs.Button.extend({init:function(t,o){videojs.Button.call(this,t,o),this.on("click",this.onClick)}});videojs.HD.prototype.onClick=function(){e("hd")==videojs(t).src()?(n("sd"),$.post("/user/profile/setMovieQuality",{quality:"sd"}),i("sd",!0)):(n("hd"),$.post("/user/profile/setMovieQuality",{quality:"hd"}),i("hd",!0))};videojs.plugin("HD",function(){if(t=null!=e("hd"),s=null!=e("sd"),t&&s){var t,s;i(o,!1),n(o);var l={el:videojs.Component.prototype.createEl(null,{className:"vjs-HD-button vjs-control",innerHTML:'<div class="vjs-control-content">HD</div>',role:"button","aria-live":"polite",tabIndex:0})},r=new videojs.HD(this,l);this.controlBar.el().appendChild(r.el())}})}